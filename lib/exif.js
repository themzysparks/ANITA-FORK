/*
▄▀█ █▄░█ █ ▀█▀ ▄▀█
█▀█ █░▀█ █ ░█░ █▀█

*
   * @project_name : ANITA
   * @author : CODERXSA
   * @youtube : https://www.youtube.com/@coderxsa
   * @instagram : https://www.instagram.com/coderx.sa
   * @description : My Private build i made public for everone to use and easy hosting.
   * @version : 1.0.3
   * Donation : https://pay.yoco.com/coderx
   
   * For all my GitHub bots, I typically only check and update them when I have the time. My primary focus is on my main bots.
*
   * Licensed under the  GPL-3.0 License;
* 
   * Created By CODERX.
   * © 2024 ANITA.
*/



//══════════════════════════════════════════════════════════════════════════════════════════════════════//

const _0xee4845=_0x6fb1;(function(_0x1d010d,_0x59f8bc){const _0x3c2388=_0x6fb1,_0x174d1f=_0x1d010d();while(!![]){try{const _0xee8053=-parseInt(_0x3c2388(0x201))/0x1+-parseInt(_0x3c2388(0x1bc))/0x2*(parseInt(_0x3c2388(0x1c0))/0x3)+parseInt(_0x3c2388(0x1d8))/0x4*(-parseInt(_0x3c2388(0x1ce))/0x5)+parseInt(_0x3c2388(0x1f8))/0x6*(-parseInt(_0x3c2388(0x1f0))/0x7)+parseInt(_0x3c2388(0x200))/0x8+-parseInt(_0x3c2388(0x1ba))/0x9+-parseInt(_0x3c2388(0x1b8))/0xa*(-parseInt(_0x3c2388(0x1c6))/0xb);if(_0xee8053===_0x59f8bc)break;else _0x174d1f['push'](_0x174d1f['shift']());}catch(_0x2ae9c7){_0x174d1f['push'](_0x174d1f['shift']());}}}(_0x3f23,0x3cf6f));const ffmpeg=require('fluent-ffmpeg'),{randomBytes}=require(_0xee4845(0x1e9)),fs=require('fs'),{getHttpStream,toBuffer}=require(_0xee4845(0x1d4)),sharp=require('sharp'),{spawn}=require(_0xee4845(0x1e6)),path=require(_0xee4845(0x1d5)),{fromBuffer}=require(_0xee4845(0x206)),{tmpdir}=require('os'),ff=require(_0xee4845(0x1bb)),webp=require('node-webpmux');async function toGif(_0xedada1){const _0x3f7ef6=_0xee4845;try{const _0x9f7f3c='./'+randomBytes(0x3)[_0x3f7ef6(0x1bd)]('hex')+_0x3f7ef6(0x1f9),_0x5938bd='./'+randomBytes(0x3)[_0x3f7ef6(0x1bd)](_0x3f7ef6(0x20d))+_0x3f7ef6(0x203);fs['writeFileSync'](_0x9f7f3c,_0xedada1[_0x3f7ef6(0x1bd)]('binary'),_0x3f7ef6(0x1da));const _0x1e4b56=await new Promise(_0x11181b=>{const _0x21c060=_0x3f7ef6;spawn(_0x21c060(0x20c),[_0x9f7f3c,_0x5938bd])['on']('error',_0x2466a9=>{throw _0x2466a9;})['on'](_0x21c060(0x207),()=>_0x11181b(_0x5938bd));});let _0x94e1c2=fs[_0x3f7ef6(0x1ea)](_0x1e4b56);try{fs[_0x3f7ef6(0x209)](_0x9f7f3c);}catch{}try{fs[_0x3f7ef6(0x209)](_0x5938bd);}catch{}return _0x94e1c2;}catch(_0x1dbb3f){console[_0x3f7ef6(0x1c4)](_0x1dbb3f);}}function _0x3f23(){const _0x167cae=['27532RzMgNC','concat','binary','categories','ANITA','-vcodec','resize','isBuffer','audioFilter','end','default','-vf','ext','contain','child_process','audioFrequency','utf-8','crypto','readFileSync','Asta_Md','length','./temp/saveFile.jpg','-movflags\x20+faststart','packname','7iNMgOK','save','then','audioCodec','toBuffer','libwebp','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','promises','2831214maFBxB','.webp','outputOptions','.jpg','-c:v\x20libx264','00:00:00','libmp3lame','audioBitrate','460168bPNayd','109299WkPmkK','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','.gif','audioQuality','from','file-type','exit','readUIntLE','unlinkSync','.mp3','author','convert','hex','join','mp4','18560kZSuhp','existsSync','1242846bCPsOY','fluent-ffmpeg','2CvcPaN','toString','writeUIntLE','load','220557pwcPsS','apulsator=hz=0.125','writeFileSync','Image','log','noAudio','8734IcUGoD','audioChannels','00:00:05','stringify','webp','toFormat','.mp4','Input\x20is\x20not\x20a\x20Buffer','355UNaRxD','error','-pix_fmt\x20yuv420p','-preset','./temp/','-loop','@whiskeysockets/baileys','path','readFile','./temp/file_'];_0x3f23=function(){return _0x167cae;};return _0x3f23();}async function toMp4(_0x5290d8){const _0x561ac9=_0xee4845;try{let _0x3c19ec='./'+randomBytes(0x3)[_0x561ac9(0x1bd)]('hex')+_0x561ac9(0x203);const _0x20f490=fs['existsSync'](_0x5290d8)?_0x5290d8:save(_0x5290d8,_0x3c19ec),_0x27ab01='./'+randomBytes(0x3)[_0x561ac9(0x1bd)](_0x561ac9(0x20d))+'.mp4',_0x2c1aa5=await new Promise(_0x2f97a7=>{const _0x3557bb=_0x561ac9;ffmpeg(_0x20f490)[_0x3557bb(0x1fa)]([_0x3557bb(0x1d0),_0x3557bb(0x1fc),_0x3557bb(0x1ee),_0x3557bb(0x1f6)])[_0x3557bb(0x1cb)](_0x3557bb(0x1b7))[_0x3557bb(0x1c5)]()[_0x3557bb(0x1f1)](_0x27ab01)['on'](_0x3557bb(0x207),()=>_0x2f97a7(_0x27ab01));});let _0x1e83fd=await fs['promises']['readFile'](_0x2c1aa5);try{fs[_0x561ac9(0x209)](_0x20f490);}catch{}try{fs[_0x561ac9(0x209)](_0x27ab01);}catch{}return _0x1e83fd;}catch(_0x299de0){console[_0x561ac9(0x1c4)](_0x299de0);}}const EightD=async _0x10f780=>{const _0x4b3885=_0xee4845,_0x1789f2=_0x4b3885(0x1d2)+randomBytes(0x3)[_0x4b3885(0x1bd)](_0x4b3885(0x20d))+_0x4b3885(0x20a);_0x10f780=Buffer[_0x4b3885(0x1df)](_0x10f780)?save(_0x10f780,_0x1789f2):_0x10f780;const _0x459b8c=_0x4b3885(0x1d2)+randomBytes(0x3)['toString']('hex')+'.mp3',_0x311bd1=await new Promise(_0x5c037c=>{const _0x4dba21=_0x4b3885;ffmpeg(_0x10f780)[_0x4dba21(0x1e0)]([_0x4dba21(0x1c1)])[_0x4dba21(0x1e7)](0xac44)[_0x4dba21(0x1c7)](0x2)[_0x4dba21(0x1ff)]('128k')[_0x4dba21(0x1f3)](_0x4dba21(0x1fe))[_0x4dba21(0x204)](0x5)[_0x4dba21(0x1cb)]('mp3')[_0x4dba21(0x1f1)](_0x459b8c)['on'](_0x4dba21(0x1e1),()=>_0x5c037c(_0x459b8c));});return _0x311bd1;};function save(_0x46a2df,_0x4146ce=_0xee4845(0x1ed)){const _0x1eb0a3=_0xee4845;try{return fs['writeFileSync'](_0x4146ce,_0x46a2df[_0x1eb0a3(0x1bd)](_0x1eb0a3(0x1da)),_0x1eb0a3(0x1da)),_0x4146ce;}catch(_0x4c00fa){console[_0x1eb0a3(0x1c4)](_0x4c00fa);}}const resizeImage=(_0xa8c0f2,_0x51eb8d,_0x5f3d63)=>{const _0x45cf5a=_0xee4845;if(!Buffer[_0x45cf5a(0x1df)](_0xa8c0f2))throw _0x45cf5a(0x1cd);return new Promise(async _0x214de2=>{const _0x29d5b7=_0x45cf5a;sharp(_0xa8c0f2)[_0x29d5b7(0x1de)](_0x51eb8d,_0x5f3d63,{'fit':_0x29d5b7(0x1e5)})[_0x29d5b7(0x1f4)]()[_0x29d5b7(0x1f2)](_0x214de2);});},_parseInput=async(_0x19bc9a,_0x2d6ebb=![],_0x3de8ca=_0xee4845(0x1d5))=>{const _0x17592a=_0xee4845,_0x568c34=await toBuffer(await getHttpStream(_0x19bc9a)),_0x4f60a6=_0x17592a(0x1d7)+randomBytes(0x3)[_0x17592a(0x1bd)]('hex')+'.'+(_0x2d6ebb?_0x2d6ebb:(await fromBuffer(_0x568c34))[_0x17592a(0x1e4)]),_0x461663=Buffer['isBuffer'](_0x19bc9a)?save(_0x19bc9a,_0x4f60a6):fs[_0x17592a(0x1b9)](_0x19bc9a)?_0x19bc9a:_0x19bc9a;if(_0x3de8ca==_0x17592a(0x1d5))return _0x461663;else{if(_0x3de8ca=='buffer'){const _0x12f859=await fs[_0x17592a(0x1f7)][_0x17592a(0x1d6)](_0x461663);try{await fs[_0x17592a(0x1f7)]['unlink'](_0x461663);}catch(_0xcfc261){}return _0x12f859;}}};async function imageToWebp(_0x34e2d8){const _0x191f06=_0xee4845,_0x567a5a=path['join'](tmpdir(),randomBytes(0x6)[_0x191f06(0x208)](0x0,0x6)[_0x191f06(0x1bd)](0x24)+_0x191f06(0x1f9)),_0x19c469=path[_0x191f06(0x1b6)](tmpdir(),randomBytes(0x6)[_0x191f06(0x208)](0x0,0x6)[_0x191f06(0x1bd)](0x24)+_0x191f06(0x1fb));fs[_0x191f06(0x1c2)](_0x19c469,_0x34e2d8),await new Promise((_0x5844a4,_0x365a01)=>{const _0x46e59b=_0x191f06;ff(_0x19c469)['on'](_0x46e59b(0x1cf),_0x365a01)['on'](_0x46e59b(0x1e1),()=>_0x5844a4(!![]))['addOutputOptions']([_0x46e59b(0x1dd),'libwebp',_0x46e59b(0x1e3),_0x46e59b(0x202)])['toFormat']('webp')[_0x46e59b(0x1f1)](_0x567a5a);});const _0x3c4ba7=fs[_0x191f06(0x1ea)](_0x567a5a);return fs[_0x191f06(0x209)](_0x567a5a),fs[_0x191f06(0x209)](_0x19c469),_0x3c4ba7;}async function videoToWebp(_0x35385e){const _0x578258=_0xee4845,_0x4dc7b7=path['join'](tmpdir(),randomBytes(0x6)[_0x578258(0x208)](0x0,0x6)[_0x578258(0x1bd)](0x24)+_0x578258(0x1f9)),_0x247c0b=path[_0x578258(0x1b6)](tmpdir(),randomBytes(0x6)[_0x578258(0x208)](0x0,0x6)[_0x578258(0x1bd)](0x24)+_0x578258(0x1cc));fs[_0x578258(0x1c2)](_0x247c0b,_0x35385e),await new Promise((_0xbbb513,_0x52f8aa)=>{const _0xc58341=_0x578258;ff(_0x247c0b)['on'](_0xc58341(0x1cf),_0x52f8aa)['on'](_0xc58341(0x1e1),()=>_0xbbb513(!![]))['addOutputOptions']([_0xc58341(0x1dd),_0xc58341(0x1f5),_0xc58341(0x1e3),_0xc58341(0x202),_0xc58341(0x1d3),'0','-ss',_0xc58341(0x1fd),'-t',_0xc58341(0x1c8),_0xc58341(0x1d1),_0xc58341(0x1e2),'-an','-vsync','0'])[_0xc58341(0x1cb)](_0xc58341(0x1ca))['save'](_0x4dc7b7);});const _0xa1d34b=fs[_0x578258(0x1ea)](_0x4dc7b7);return fs[_0x578258(0x209)](_0x4dc7b7),fs['unlinkSync'](_0x247c0b),_0xa1d34b;}async function writeExifImg(_0x3fd3a1,_0x1d494f){const _0x416aeb=_0xee4845;let _0x2b61dd=await imageToWebp(_0x3fd3a1);const _0x5f3571=path[_0x416aeb(0x1b6)](tmpdir(),randomBytes(0x6)[_0x416aeb(0x208)](0x0,0x6)[_0x416aeb(0x1bd)](0x24)+_0x416aeb(0x1f9)),_0x3a8903=path['join'](tmpdir(),randomBytes(0x6)[_0x416aeb(0x208)](0x0,0x6)[_0x416aeb(0x1bd)](0x24)+_0x416aeb(0x1f9));fs[_0x416aeb(0x1c2)](_0x5f3571,_0x2b61dd);if(_0x1d494f[_0x416aeb(0x1ef)]||_0x1d494f[_0x416aeb(0x20b)]){const _0xd34676=new webp[(_0x416aeb(0x1c3))](),_0x47def3={'sticker-pack-id':'ANITA','sticker-pack-name':_0x1d494f[_0x416aeb(0x1ef)],'sticker-pack-publisher':_0x1d494f[_0x416aeb(0x20b)],'emojis':_0x1d494f[_0x416aeb(0x1db)]?_0x1d494f[_0x416aeb(0x1db)]:['']},_0x10ef22=Buffer[_0x416aeb(0x205)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x403bb8=Buffer[_0x416aeb(0x205)](JSON[_0x416aeb(0x1c9)](_0x47def3),_0x416aeb(0x1e8)),_0x59a93f=Buffer[_0x416aeb(0x1d9)]([_0x10ef22,_0x403bb8]);return _0x59a93f[_0x416aeb(0x1be)](_0x403bb8[_0x416aeb(0x1ec)],0xe,0x4),await _0xd34676[_0x416aeb(0x1bf)](_0x5f3571),fs[_0x416aeb(0x209)](_0x5f3571),_0xd34676['exif']=_0x59a93f,await _0xd34676['save'](_0x3a8903),_0x3a8903;}}async function writeExifVid(_0x53e739,_0x11ebe9){const _0x27b963=_0xee4845;let _0x34efba=await videoToWebp(_0x53e739);const _0x39e079=path[_0x27b963(0x1b6)](tmpdir(),randomBytes(0x6)[_0x27b963(0x208)](0x0,0x6)[_0x27b963(0x1bd)](0x24)+'.webp'),_0x5a97da=path[_0x27b963(0x1b6)](tmpdir(),randomBytes(0x6)[_0x27b963(0x208)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x27b963(0x1c2)](_0x39e079,_0x34efba);let _0xb3463,_0x10676a;try{_0xb3463=_0x11ebe9[_0x27b963(0x1ef)];}catch(_0x5140d6){_0xb3463='ANITA';}try{_0x10676a=_0x11ebe9[_0x27b963(0x20b)];}catch(_0x4b889e){_0x10676a='';}const _0x2f987a=new webp['Image'](),_0x120efa={'sticker-pack-id':_0x27b963(0x1dc),'sticker-pack-name':_0xb3463,'sticker-pack-publisher':_0x10676a,'emojis':_0x11ebe9[_0x27b963(0x1db)]?_0x11ebe9['categories']:['']},_0x2c497c=Buffer[_0x27b963(0x205)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x288f4f=Buffer['from'](JSON[_0x27b963(0x1c9)](_0x120efa),'utf-8'),_0x1add96=Buffer[_0x27b963(0x1d9)]([_0x2c497c,_0x288f4f]);return _0x1add96[_0x27b963(0x1be)](_0x288f4f['length'],0xe,0x4),await _0x2f987a[_0x27b963(0x1bf)](_0x39e079),fs['unlinkSync'](_0x39e079),_0x2f987a['exif']=_0x1add96,await _0x2f987a[_0x27b963(0x1f1)](_0x5a97da),_0x5a97da;}async function writeExifWebp(_0x599226,_0x726dce){const _0x283589=_0xee4845,_0x59b28c=path['join'](tmpdir(),randomBytes(0x6)[_0x283589(0x208)](0x0,0x6)[_0x283589(0x1bd)](0x24)+'.webp'),_0x116428=path[_0x283589(0x1b6)](tmpdir(),randomBytes(0x6)[_0x283589(0x208)](0x0,0x6)[_0x283589(0x1bd)](0x24)+'.webp');fs[_0x283589(0x1c2)](_0x59b28c,_0x599226);if(_0x726dce[_0x283589(0x1ef)]||_0x726dce[_0x283589(0x20b)]){const _0x29292c=new webp[(_0x283589(0x1c3))](),_0x38531e={'sticker-pack-id':_0x283589(0x1eb),'sticker-pack-name':_0x726dce[_0x283589(0x1ef)],'sticker-pack-publisher':_0x726dce['author'],'emojis':_0x726dce[_0x283589(0x1db)]?_0x726dce[_0x283589(0x1db)]:['']},_0x37d11a=await Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5be8a5=await Buffer['from'](JSON[_0x283589(0x1c9)](_0x38531e),_0x283589(0x1e8)),_0x15e468=await Buffer[_0x283589(0x1d9)]([_0x37d11a,_0x5be8a5]);return await _0x15e468[_0x283589(0x1be)](_0x5be8a5[_0x283589(0x1ec)],0xe,0x4),await _0x29292c[_0x283589(0x1bf)](_0x59b28c),fs[_0x283589(0x209)](_0x59b28c),_0x29292c['exif']=_0x15e468,await _0x29292c['save'](_0x116428),_0x116428;}}function _0x6fb1(_0x1f0620,_0xd42cbd){const _0x3f235a=_0x3f23();return _0x6fb1=function(_0x6fb1e2,_0x26df45){_0x6fb1e2=_0x6fb1e2-0x1b6;let _0x9e777a=_0x3f235a[_0x6fb1e2];return _0x9e777a;},_0x6fb1(_0x1f0620,_0xd42cbd);}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'toGif':toGif,'toMp4':toMp4,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};